{"version":3,"sources":["../../src/pages/vacina-modal/vacina-modal.module.ts","../../src/pages/vacina-modal/vacina-modal.ts","../../src/pages/vacinas/vacina.services.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VacinaModalPage } from './vacina-modal';\n\n@NgModule({\n  declarations: [\n    VacinaModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VacinaModalPage),\n  ],\n})\nexport class VacinaModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vacina-modal/vacina-modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController, App } from 'ionic-angular';\nimport { ViewController } from 'ionic-angular';\nimport { HttpClient,HttpHeaders } from '@angular/common/http';\nimport {Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { VacinaService, Vacina } from '../vacinas/vacina.services';\nimport { profileService, User } from '../modal/profile.services';\nimport { Tab2Page } from '../tab2/tab2';\n\n/**\n * Generated class for the VacinaModalPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-vacina-modal',\n  templateUrl: 'vacina-modal.html',\n  providers: [VacinaService]\n\n})\nexport class VacinaModalPage {\n  private API_URL = 'https://vacimaps-app.herokuapp.com'\n  vacina: string;\n  data: string;\n  lote: string;\n  id;\n  datajson;\n\n  private formulario: FormGroup;\n  token;\n\n  vacinas: any;\n  nome_vac: any[];\n\n  hiddenCidades: Boolean;\n\n  constructor(public navCtrl: NavController,    \n    public viewCtrl : ViewController,\n    private toast: ToastController, \n    private http: HttpClient,\n    public appCtrl: App, \n    private formBuilder: FormBuilder,\n    private VacinaService: VacinaService,\n    public navParams: NavParams) {\n      this.formulario = this.formBuilder.group({\n        validarVacina: ['', Validators.required],\n        validarData: ['', Validators.required],\n        vaidarLote: ['', Validators.required],\n      });\n      this.token = JSON.parse(localStorage.getItem('token'));\n\n      if (this.navParams.data.nome_vacina  && \n        this.navParams.data.data_vacina && \n        this.navParams.data.ds_local_vacina  &&\n        this.navParams.data.id_usuario_vacina\n        ) {\n        this.nome_vac = this.navParams.data.nome_vacina;\n        this.data = new Date(this.navParams.data.data_vacina).toISOString();\n        this.lote = this.navParams.data.ds_local_vacina;\n        this.id = this.navParams.data.id_usuario_vacina; \n        this.vacina = this.navParams.data.id_vacina;;\n      }   \n        \n      this.VacinaService.getVacinas().subscribe((vacinas) => {\n        this.vacinas = vacinas;\n        this.nome_vac = this.vacinas;\n      });\n      \n     this.hiddenCidades = true;\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VacinaModalPage');\n  }\n\n  \n  public closeModal(){\n    this.viewCtrl.dismiss();\n  }  \n\n  initializeItems() {\n    this.vacinas = this.nome_vac;\n}\n\n  doPOST() {\n    if(this.id){\n\n      this.datajson ={ \n        id_vacina: this.vacina, \n        data_vacina: this.data, \n        ds_local_vacina: this.lote,\n      }\n      console.log(this.datajson);\n      let url = `${this.API_URL}/usuario/vacina/${this.id}`;\n      this.http\n      .put(url, this.datajson, {headers: new HttpHeaders({'token': this.token.token})})\n      .subscribe(res => {\n        if(res['Mensagem'] == 'Vacina alterada com sucesso!'){          \n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()    \n          this.closeModal()\n        }else {\n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()     \n          \n\n\n        }\n      })   \n    }else{\n\n    console.log(\"POST\");\n    let url = `${this.API_URL}/usuario/vacina`;\n    this.datajson ={ \n      id_vacina: this.vacina, \n      data_vacina: this.data, \n      lote: this.lote,\n    }\n    console.log(this.datajson);\n    this.http\n      .post(url, this.datajson, {headers: new HttpHeaders({'token': this.token.token})})\n      .subscribe(res => {\n        if(res['Mensagem'] == 'Erro ao cadastrar vacina!'){          \n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()    \n       \n        }else {\n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()     \n          this.closeModal()\n\n\n        }\n      })   \n    }      \n  }\n  getVacinas(ev: any) {\n    // Reset items back to all of the items\n    this.initializeItems();\n    let val\n    // set val to the value of the searchbar\n    try{\n      val = ev.target.value;\n               \n      if(val.length > 2){\n        this.hiddenCidades = false;\n      }else{\n        this.hiddenCidades = true;\n      }\n    }catch{\n      val = \"a\";\n      this.hiddenCidades = true;\n    }\n     \n    // if the value is an empty string don't filter the items\n    if (val && val.trim() != '') {\n      this.vacinas = this.vacinas.filter((vacina) => {        \n        return (\n          vacina.nome_vacina.toLowerCase().indexOf(val.toLowerCase()) > -1 \n      );\n      })\n    }\n  }\n}\n\nexport interface VacinaUSer{\n  id_vacina?: string;\n  nome_vacina?: string;\n  data_vacina?: string;\n  ds_local_vacina?: string;\n}\n  \n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vacina-modal/vacina-modal.ts","import { Injectable } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Injectable()\nexport class VacinaService{\n    private API_URL = 'https://vacimaps-app.herokuapp.com'\n    token;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, private http: HttpClient){\n        this.token = JSON.parse(localStorage.getItem('token'));\n    }\n    \n      ionViewDidLoad() {\n        console.log('ionViewDidLoad VacinaService');\n      }\n    \n      getVacinas(){\n        return this.http.get(`${this.API_URL}/vacinas`, {headers: new HttpHeaders({\n            'token': this.token.token\n        })});\n    }\n    getVacinasUSer(){\n        return this.http.get(`${this.API_URL}/usuario/vacinas`, {headers: new HttpHeaders({\n            'token': this.token.token\n        })});\n    }\n    \n}\n\nexport interface Vacina{\n    id_vacina?: string;\n    nome_vacina?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vacinas/vacina.services.ts"],"sourceRoot":""}