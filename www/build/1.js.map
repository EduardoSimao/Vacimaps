{"version":3,"sources":["../../src/pages/vacinas/vacina.services.ts","../../src/pages/vacinas/vacinas.module.ts","../../src/pages/vacinas/vacinas.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n@Injectable()\nexport class VacinaService{\n    private API_URL = 'https://vacimaps-app.herokuapp.com'\n    token;\n\n    constructor(public navCtrl: NavController, public navParams: NavParams, private http: HttpClient){\n        this.token = JSON.parse(localStorage.getItem('token'));\n    }\n    \n      ionViewDidLoad() {\n        console.log('ionViewDidLoad VacinaService');\n      }\n    \n      getVacinas(){\n        return this.http.get(`${this.API_URL}/vacinas`, {headers: new HttpHeaders({\n            'token': this.token.token\n        })});\n    }\n    getVacinasUSer(){\n        return this.http.get(`${this.API_URL}/usuario/vacinas`, {headers: new HttpHeaders({\n            'token': this.token.token\n        })});\n    }\n    \n}\n\nexport interface Vacina{\n    id_vacina?: string;\n    nome_vacina?: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vacinas/vacina.services.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VacinasPage } from './vacinas';\n\n@NgModule({\n  declarations: [\n    VacinasPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VacinasPage),\n  ],\n})\nexport class VacinasPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vacinas/vacinas.module.ts","import { Component } from '@angular/core';\nimport {Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { HttpClient,HttpHeaders } from '@angular/common/http';\nimport { IonicPage, NavController, NavParams, ToastController, App, ModalController } from 'ionic-angular';\nimport { profileService, User } from '../perfil/profile.services';\nimport { VacinaService,  } from '../vacinas/vacina.services';\nimport { DashboardPage } from '../dashboard/dashboard';\nimport { PerfilPage } from '../perfil/perfil';\n\n@IonicPage()\n@Component({\n  selector: 'page-vacinas',\n  templateUrl: 'vacinas.html',\n  providers: [profileService, VacinaService],\n})\nexport class VacinasPage {\n  usuario: User;\n  vacinas;\n  token;\n  hiddenVacinas: Boolean;\n  hiddenCardVacinas: Boolean;\n  hiddenFormVacinas: Boolean;\n  user_vacinas;\n  private formulario: FormGroup;\n  datajson;\n\n  vacina: string;\n  vacinaSelect: any;\n  data: string;\n  lote: string;\n  id_usuario_vacina: string;\n\n  nome_vac: any[];\n  nome: string;\n\n  private API_URL = 'https://vacimaps-app.herokuapp.com'\n\n  constructor(public navCtrl: NavController,\n    public vacinaModal : ModalController,\n    private toast: ToastController, \n    private profileService: profileService,\n    private http: HttpClient,\n    public appCtrl: App, \n    private VacinaService: VacinaService,\n    private formBuilder: FormBuilder,\n    public navParams: NavParams,\n    public modalCtrl: ModalController) {\n      this.formulario = this.formBuilder.group({\n        validarVacina: ['', Validators.required],\n        validarData: ['', Validators.required],\n        vaidarLote: ['', Validators.required],\n      });\n\n      this.profileService.getUser().subscribe((usuario: User) => {\n        this.nome = usuario.nome;\n      });\n    \n     this.getVacinas();\n    \n     this.VacinaService.getVacinas().subscribe((vacinas) => {\n      this.vacinaSelect = vacinas;\n      this.nome_vac = this.vacinaSelect;\n    });\n\n     this.token = JSON.parse(localStorage.getItem('token'));\n\n     this.hiddenVacinas = true;\n     this.hiddenFormVacinas = true;\n     this.hiddenCardVacinas = false;\n\n  }\n\n  dash(){\n    this.navCtrl.push(DashboardPage);\n  }\n\n  perfil(){\n    this.navCtrl.push(PerfilPage);\n  }\n\n  getVacinas(){\n    this.profileService.getUser().subscribe((usuario: User) => {\n      \n      this.usuario = usuario;\n      if(usuario.vacinas != 'Nenhuma vacina cadastrada!'){\n        this.vacinas = usuario.vacinas;\n        this.user_vacinas = this.vacinas;\n      }\n\n     });\n  }\n  \n  initializeItems() {\n    this.vacinas = this.user_vacinas;\n  }\n\n  doDELETE(vacina) {\n    console.log(\"DELETE\");\n    let url = `${this.API_URL}/usuario/vacina/${vacina.id}`;\n    this.http\n      .delete(url, {headers: new HttpHeaders({'token': this.token.token})})\n      .subscribe(res => {\n        if(res['Mensagem'] == 'Vacina deletada com sucesso!'){          \n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()    \n          this.navCtrl.setRoot(this.navCtrl.getActive().component);\n        }else {\n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()\n          \n        }\n      })          \n  }\n\n  getVacina(ev: any) {\n    // Reset items back to all of the items\n    this.initializeItems();\n    let val\n\n    try{\n      val = ev.target.value;\n               \n      if(val.length > 2){\n        this.hiddenVacinas = false;\n      }else{\n        this.hiddenVacinas = true;\n      }\n    }catch{\n      val = \"a\";\n      this.hiddenVacinas = true;\n    }\n     \n    // if the value is an empty string don't filter the items\n    if (val && val.trim() != '') {\n      this.vacinas = this.vacinas.filter((vacina) => {        \n        return (\n          vacina.vacina.toLowerCase().indexOf(val.toLowerCase()) > -1 \n      );\n      })\n    }\n  }\n\n  public closeModal(){\n    this.nome_vac = [];\n    this.data = \"\";\n    this.lote = '';    \n    this.id_usuario_vacina = ''; \n    this.vacina = '';\n    this.hiddenFormVacinas = true;\n    this.hiddenCardVacinas = false;\n\n  } \n\n  doPOST() {\n    if(this.id_usuario_vacina){\n      console.log(\"PUT\");\n      this.datajson ={ \n        id_vacina: this.vacina, \n        data_vacina: this.data, \n        ds_local_vacina: this.lote,\n      }\n      let url = `${this.API_URL}/usuario/vacina/${this.id_usuario_vacina}`;\n      this.http\n      .put(url, this.datajson, {headers: new HttpHeaders({'token': this.token.token})})\n      .subscribe(res => {\n        if(res['Mensagem'] == 'Vacina alterada com sucesso!'){          \n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()    \n          this.navCtrl.setRoot(this.navCtrl.getActive().component);\n        }else {\n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()     \n          \n\n\n        }\n      })  \n        \n    }else{\n    console.log(\"POST\");\n    let url = `${this.API_URL}/usuario/vacina`;\n    this.datajson ={ \n      id_vacina: this.vacina, \n      data_vacina: this.data, \n      lote: this.lote,\n    }\n    console.log(this.datajson);\n    this.http\n      .post(url, this.datajson, {headers: new HttpHeaders({'token': this.token.token})})\n      .subscribe(res => {\n        if(res['Mensagem'] == 'Erro ao cadastrar vacina!'){          \n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()    \n       \n        }else {\n          this.toast.create({ message: res[\"Mensagem\"], duration: 3000, position: 'botton' }).present()     \n          this.navCtrl.setRoot(this.navCtrl.getActive().component);\n\n\n        }\n      })   \n    }    \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VacinasPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vacinas/vacinas.ts"],"sourceRoot":""}